@if (student$ | async; as student) {

<div class="details-wrapper">

  <mat-card class="details-card">

    <div class="header">

      <div class="avatar">
        <mat-icon>school</mat-icon>
      </div>

      <div>
        <h2>{{ student.firstName }} {{ student.lastName }}</h2>
        <p class="username">@{{ student.username }}</p>
      </div>

    </div>

    <div class="info-grid">

      <div class="info-item">
        <span class="label">Index Number</span>
        <span>{{ student.indexNumber }}</span>
      </div>

      <div class="info-item">
        <span class="label">City</span>
        <span>{{ student.city }}</span>
      </div>

      <div class="info-item">
        <span class="label">Faculty</span>
        <span>{{ student.facultyName }}</span>
      </div>

      <div class="info-item">
        <span class="label">Status</span>
        <span class="role-badge">{{ student.status }}</span>
      </div>

    </div>

    <div class="actions">

      <button mat-stroked-button (click)="goBack()">
        Back
      </button>

      <button mat-raised-button color="warn"
              (click)="deleteStudent()">
        Delete Student
      </button>

    </div>

  </mat-card>

</div>
}

@if (role === 'CASHIER') {

<div class="card-section">

  <h3>Student Card</h3>

  @if (!card) {

    <p>No card assigned.</p>

    <button mat-raised-button color="primary"
            (click)="createCard()">
      Create Card
    </button>

  }

  @if (card) {

    <mat-card class="card-box">

      <p>Balance: {{ card.balance }}</p>
      <p>Expires: {{ card.expirationDate | date }}</p>

      <div class="card-actions">

        <button mat-button color="primary"
                (click)="addFunds()">
          Add Funds
        </button>

        <button mat-button
                (click)="renewCard()">
          Renew
        </button>

        <button mat-button color="warn"
                (click)="deleteCard()">
          Delete
        </button>

      </div>

    </mat-card>

  }

</div>

}